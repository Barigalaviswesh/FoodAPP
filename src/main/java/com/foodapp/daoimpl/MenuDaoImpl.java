package com.foodapp.daoimpl;import java.sql.Connection;import java.sql.DriverManager;import java.sql.PreparedStatement;import java.sql.ResultSet;import java.sql.SQLException;import java.util.ArrayList;import java.util.List;import com.foodapp.dao.MenuDAO;import com.foodapp.model.Menu;public class MenuDaoImpl implements MenuDAO {    private static Connection con;    private PreparedStatement pstmt;    private ResultSet resultSet;    private static final String INSERT_MENU =        "INSERT INTO menu (menuId, restaurantId, itemName, description, price, isAvailable, imgPath) VALUES (?, ?, ?, ?, ?, ?, ?)";    private static final String GET_ALL_REST_MENU =        "SELECT * FROM menu WHERE restaurantId = ?";    private static final String GET_MENU_BY_ID =        "SELECT * FROM menu WHERE menuId = ?";    private static final String UPDATE_MENU_AVAIL_BY_ID =        "UPDATE menu SET isAvailable = ? WHERE menuId = ?";    private static final String DELETE_MENU_BY_ID =        "DELETE FROM menu WHERE menuId = ?";    public MenuDaoImpl() {        try {            Class.forName("com.mysql.cj.jdbc.Driver");            con = DriverManager.getConnection(                "jdbc:mysql://localhost:3306/foodapp",                "root",                "root"            );        } catch (Exception e) {            e.printStackTrace();        }    }    // ✅ INSERT MENU    @Override    public int insertMenu(Menu menu) {        int x = 0;        try {            pstmt = con.prepareStatement(INSERT_MENU);            pstmt.setInt(1, menu.getMid());            pstmt.setInt(2, menu.getRid());            pstmt.setString(3, menu.getItemName());            pstmt.setString(4, menu.getDesc());            pstmt.setDouble(5, menu.getPrice());            pstmt.setInt(6, menu.isAvailable());            pstmt.setString(7, menu.getimgPath()); // ✅ FIXED            x = pstmt.executeUpdate();            System.out.println(x + " row(s) inserted.");        } catch (SQLException e) {            e.printStackTrace();        }        return x;    }    // ✅ GET ALL MENUS OF RESTAURANT    @Override    public List<Menu> getAllRestMenu(int restId) {        List<Menu> menuList = new ArrayList<>(); // ✅ NEW LIST        try {            pstmt = con.prepareStatement(GET_ALL_REST_MENU);            pstmt.setInt(1, restId);            resultSet = pstmt.executeQuery();            while (resultSet.next()) {                menuList.add(new Menu(                    resultSet.getInt("menuId"),                    resultSet.getInt("restaurantId"),                    resultSet.getString("itemName"),                    resultSet.getString("description"),                    resultSet.getDouble("price"),        // ✅ double                    resultSet.getInt("isAvailable"),                    resultSet.getString("imgPath")                ));            }        } catch (SQLException e) {            e.printStackTrace();        }        return menuList;    }    // ✅ GET MENU BY ID    @Override    public Menu getMenuById(int id) {        Menu menu = null;        try {            pstmt = con.prepareStatement(GET_MENU_BY_ID);            pstmt.setInt(1, id);            resultSet = pstmt.executeQuery();            if (resultSet.next()) {                menu = new Menu(                    resultSet.getInt("menuId"),                    resultSet.getInt("restaurantId"),                    resultSet.getString("itemName"),                    resultSet.getString("description"),                    resultSet.getDouble("price"),                    resultSet.getInt("isAvailable"),                    resultSet.getString("imgPath")                );            }        } catch (SQLException e) {            e.printStackTrace();        }        return menu;    }    // ✅ UPDATE AVAILABILITY    @Override    public int updateMenuAvailById(int id, int avail) {        int x = 0;        try {            pstmt = con.prepareStatement(UPDATE_MENU_AVAIL_BY_ID);            pstmt.setInt(1, avail);            pstmt.setInt(2, id);            x = pstmt.executeUpdate();        } catch (SQLException e) {            e.printStackTrace();        }        return x;    }    // ✅ DELETE MENU    @Override    public int deleteMenuById(int id) {        int x = 0;        try {            pstmt = con.prepareStatement(DELETE_MENU_BY_ID);            pstmt.setInt(1, id);            x = pstmt.executeUpdate();        } catch (SQLException e) {            e.printStackTrace();        }        return x;    }}